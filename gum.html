<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Content Display</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
      body {
        font-family: 'Inter', sans-serif;
        margin: 0;
        background-color: #111827;
      }
      .xyz-container {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 20px;
        padding: 20px;
        max-height: 500px;
        overflow-y: auto;
      }
      .abc-item {
        width: 300px;
        text-decoration: none;
        overflow: hidden;
        background-color: #f9f9f9;
        transition: transform 0.2s ease-in-out;
      }
      .abc-item:hover {
        transform: translateY(-5px);
      }
      .def-img {
        width: 100%;
        height: auto;
        object-fit: cover;
        aspect-ratio: 3 / 2;
      }
      .ghi-text {
        padding: 15px;
        text-align: center;
      }
      .ghi-text h2 {
        font-size: 1.2em;
        color: #333;
      }
      .ghi-text p {
        font-size: 0.9em;
        color: #666;
      }
      #find-box {
        padding: 10px 20px;
        border: none;
        border-radius: 25px;
        font-size: 1em;
        width: 80%;
        max-width: 600px;
        background-color: #1f2937;
        color: #f3f4f6;
      }
      .search-area {
        padding: 20px;
        display: flex;
        justify-content: center;
        z-index: 20;
      }
    </style>
</head>
<body>

  <div class="search-area">
    <input type="text" id="find-box" placeholder="Search...">
  </div>

  <div id="recentArea" class="p-4 text-white"></div>
  <div id="popularArea" class="p-4 text-white"></div>
  <div class="xyz-container"></div>

  <script>
    const gameData = "a1,A1;b10-minutes-till-dawn,B10 Minutes Till Dawn;c100ng,C100ng;d1v1lol,D1v1 LOL;e1v1space,E1v1 Space;f2020-game,F2020 Game;g2048-multitask,G2048 Multitask;h2048,H2048;i8ball-billards-classic,I8 Ball Billiards Classic;j9007199254740992,J9007199254740992;kDogeMiner,KDoge Miner;lFullScreenMario/Source,LFull Screen Mario;mHexGL,MHexGL;nOfflineParadise,NOffline Paradise;oSquid Gun Fest,OSquid Gun Fest;pStickman-Survival,PStickman Survival;qachievementunlocked,QAchievement Unlocked;radarkroom,RAdark Room;sadrenalinechallenge,SAdrenaline Challenge;tage-of-war,TAge of War;ualien-invaders-io,UAlien Invaders IO;valienhominid,VAlien Hominid;walign-4,WAlign 4;xamong-us,XAmong Us;yangry-birds,YAngry Birds;zanti-terrorist-rush,ZAnti Terrorist Rush;aaarcade-wizard,AAArcade Wizard;abasciispace,ABAscii Space;acaspiring-artist,ACAspiring Artist;adasteroids,AAsteroids;aastray,AAstray;aavalanche,AAvalanche;aawesome-tanks-2,AAwesome Tanks 2;abackcountry,ABackcountry;abackflip-dive-3d,ABackflip Dive 3D;abackrooms,ABackrooms;abad-ice-cream-2,ABad Ice Cream 2;abad-ice-cream-3,ABad Ice Cream 3;abad-ice-cream,ABad Ice Cream;abaldis-basics,ABaldi's Basics;abasket-bros-io,ABasket Bros IO;abasketball-io,ABasketball IO;abasketball-legends-2020,ABasketball Legends 2020;abasketball-stars,ABasketball Stars;abattleforgondor,ABattle For Gondor;abigredbutton,ABig Red Button;abinding-of-isaac,ABinding of Isaac;ablacholesquare,ABlachole Square;ablackholesquare,ABlackhole Square;ablackknight,ABlack Knight;ablocky-snakes,ABlocky Snakes;abloonstd,ABloons TD;abloonstd2,ABloons TD 2;abloxors,ABloxors;abounceback,ABounceback;aboxel-rebound,ABoxel Rebound;aboxhead2play,ABoxhead 2 Play;abrave-explorers,ABrave Explorers;abreakingthebank,ABreaking the Bank;abreaklock,ABreaklock;abreakout,ABreakout;abtd4,ABTD 4;abtts,ABTTS;aburning-man-2,ABurning Man 2;acannon-basketball-4,ACannon Basketball 4;acanyondefense,ACanyon Defense;acaptaincallisto,ACaptain Callisto;acars-simulator,ACars Simulator;acell-machine,ACell Machine;achampionarcher,AChampion Archer;achess,AChess;achill-radio,AChill Radio;achromaincident,AChroma Incident;achrome-dino,AChrome Dino;achromedino,AChrome Dino;acirclo,ACirclo;acity-blocks-2,ACity Blocks 2;aclean-up-io,AClean Up IO;acluster-rush,ACluster Rush;acolor-switch-2-challenges,AColor Switch 2 Challenges;aconnect3,AConnect 3;acookie-clicker,ACookie Clicker;acookieclicker,ACookie Clicker;acore-ball,ACore Ball;acraftmine,ACraft Mine;acreativekillchamber,ACreative Kill Chamber;acrossyroad,ACrossy Road;acrowd city 2,ACrowd City 2;acsgo-clicker,ACSGO Clicker;actr-holiday,ACTR Holiday;actr-tr,ACTR TR;actr,ACTR;acubefield,ACubefield;acupcake2048,ACupcake 2048;acuttherope,ACut The Rope;acuttherope2,ACut The Rope 2;adadish,ADadish;adadish3,ADadish 3;adadishtwo,ADadish Two;adante,ADante;adeal-or-no-deal,ADeal Or No Deal;adeath-run-3d,ADeath Run 3D;adeath-soul,ADeath Soul;adeathrun,ADeathrun;adefend-the-tank,ADefend The Tank;adino,ADino;adoctor-acorn2,ADoctor Acorn 2;adodge,ADodge;adoge-miner-2,ADoge Miner 2;adoge-mining-simulator,ADoge Mining Simulator;adoge2048,ADoge 2048;adont-drop-the-white-ball-2,ADon't Drop The White Ball 2;adoodle-jump,ADoodle Jump;adoublewires,ADouble Wires;adragon-vs-bricks,ADragon Vs Bricks;adraw-the-hill,ADraw The Hill;adrive-mad,ADrive Mad;aduck-life-treasurehunt,ADuck Life Treasure Hunt;aducklife,ADuck Life;aducklife1,ADuck Life 1;aducklife2,ADuck Life 2;aducklife3,ADuck Life 3;aducklife4,ADuck Life 4;aduke-dashington-remastered,ADuke Dashington Remastered;adungeon-craft,ADungeon Craft;aedge-surf,AEdge Surf;aedgenotfound,AEdge Not Found;aelastic-face,AElastic Face;aelasticman,AElasticman;aemulator-js,AEmulator JS;aendlesswar3,AEndless War 3;aescapingtheprison,AEscaping The Prison;aevil-glitch,AEvil Glitch;aevilglitch,AEvil Glitch;aevolution,AEvolution;aexo,AExo;afactory-balls-forever,AFactory Balls Forever;afactoryballs,AFactory Balls;afactoryballsforever,AFactory Balls Forever;afancypantsadventures,AFancy Pants Adventures;afbwg,AFBWG;afinns-fantastic-food-machine,AFinn's Fantastic Food Machine;afireboywatergirlforesttemple,AFireboy and Watergirl Forest Temple;afireice,AFire Ice;afirewater,AFire Water;aflappy-2048,AFlappy 2048;aflappy-bird,AFlappy Bird;aflappy-defense,AFlappy Defense;aflappybird,AFlappy Bird;aflashtetris,AFlash Tetris;aflippy-fish,AFlippy Fish;aflood-runner-2,AFlood Runner 2;afridaynightfunkin,AFriday Night Funkin;afriendlyfire,AFriendly Fire;afroggys-battle,AFroggy's Battle;afruitninja,AFruit Ninja;afrying-nemo,AFrying Nemo;agame-inside,AGame Inside;ageneric-fishing-game,AGeneric Fishing Game;ageodash-2,AGeo Dash 2;ageodash,AGeo Dash;ageometry_jump_sketchy,AGeometry Jump Sketchy;ageometrydash,AGeometry Dash;ageorgeandtheprinter,AGeorge And The Printer;agetaway-shootout,AGetaway Shootout;agimme-the-airpod,AGimme The Airpod;aglass-city,AGlass City;ago-ball,AGo Ball;agolf,AGolf;agoodnight,AGoodnight;agoogle-snake,AGoogle Snake;agoogle-solitaire,AGoogle Solitaire;agopher,AGopher;agravity-soccer,AGravity Soccer;agreen,AGreen;agreybox,AGreybox;agrindcraft,AGrindcraft;agrow-in-the-hole,AGrow In The Hole;agun-mayhem-2,AGun Mayhem 2;agun-mayhem-redux,AGun Mayhem Redux;agun-mayhem,AGun Mayhem;agunspin,AGunspin;ahappy-hop,AHappy Hop;ahappy-wheels,AHappy Wheels;ahba,AHBA;ahelicopter,AHelicopter;ahelios,AHelios;ahexempire,AHex Empire;ahextris,AHextris;ahouse-of-hazards,AHouse Of Hazards;aicys-purple-head,AIcy's Purple Head;aidle-breakout,AIdle Breakout;aidle-shark,AIdle Shark;aimpossiblequiz,AImpossible Quiz;ainteractivebuddy,AInteractive Buddy;aiscribble-io,AIScribble IO;ajelly-truck,AJelly Truck;ajetpack,AJetpack;ajimothy-piggerton,AJimothy Piggerton;ajust-one-boss,AJust One Boss;ajustfall,AJust Fall;akart-fight-io,AKart Fight IO;akitchen-gun-game,AKitchen Gun Game;akittencannon,AKitten Cannon;aklocki,AKlocki;akonnekt,AKonnekt;akrunker,AKrunker;alearntofly,ALearn To Fly;alearntofly2,ALearn To Fly 2;aline-rider,ALine Rider;alinquest,ALinquest;amadalin-stunt-cars-2,AMadalin Stunt Cars 2;amadalin-stunt-cars-3,AMadalin Stunt Cars 3;amakeitmeme,AMake It Meme;amario,AMario;amarvinspectrum,AMarvin Spectrum;amatrixrampage,AMatrix Rampage;amc1.5.2,AMC 1.5.2;amcbeta0.30,AMC Beta 0.30;amcbeta1.3,AMC Beta 1.3;ameat-boy,AMeat Boy;ameme2048,AMeme 2048;aminecraft-classic,AMinecraft Classic;aminecraft,AMinecraft;aminecraftbeta,AMinecraft Beta;aminesweeper,AMinesweeper;amini-stilts,AMini Stilts;aminiputt,AMini Putt;amissiles,AMissiles;amoto-x3m-2,AMoto X3M 2;amoto-x3m-pool-party,AMoto X3M Pool Party;amotox3m-pool,AMoto X3M Pool;amotox3m-spooky,AMoto X3M Spooky;amotox3m-winter,AMoto X3M Winter;amotox3m,AMoto X3M;amotox3m2,AMoto X3M 2;amotox3mwinter,AMoto X3M Winter;amy-friend-pedro,AMy Friend Pedro;an-gon,AN-Gon;aninja,ANinja;aninjavsevilcorp,ANinja Vs Evil Corp;ans-shaft,ANS Shaft;aom-bounce,AOM Bounce;aone-screen-run-2,AOne Screen Run 2;aone-screen-run,AOne Screen Run;aosu,AOsu;aovo,AOvo;apackabunchas,APackabunchas;apacman-fps,APacman FPS;apacman,APacman;apandemic2,APandemic 2;apapa-louie,APapa Louie;apapas-burgeria,APapa's Burgeria;apapas-freezeria,APapa's Freezeria;apapas-hot-doggeria,APapa's Hot Doggeria;apapas-pancakeria,APapa's Pancakeria;apapas-pizzeria,APapa's Pizzeria;apapas-sushiria,APapa's Sushiria;apapas-wingeria,APapa's Wingeria;apapasburgeria,APapa's Burgeria;apapaspizzaria,APapa's Pizzeria;apaperio2,APaper IO 2;apapery-planes,APapery Planes;aparticle-clicker,AParticle Clicker;aparticleclicker,AParticle Clicker;apath-finder,APath Finder;ape-noire,APe Noire;apikwip,APikwip;apixel-cave,APixel Cave;apizzeria-simulator,APizzeria Simulator;apolybranch,APolybranch;apopcat-classic,APopcat Classic;aportalflash,APortal Flash;aprecision-client,APrecision Client;aprotektor,AProtektor;apush-the-square,APush The Square;apush-your-luck,APush Your Luck;apushback,APushback;apuzzle-ball,APuzzle Ball;apvz-2,APVZ 2;aq1k3,AQ1K3;aracer,ARacer;aradiusraid,ARadius Raid;aretro-bowl,ARetro Bowl;aretrobowl,ARetro Bowl;aretrohaunt,ARetro Haunt;arise-of-neon-square,ARise Of Neon Square;aroadblocks,ARoadblocks;arocking-sky-trip,ARocking Sky Trip;arolling-forests,ARolling Forests;arolly-vortex,ARolly Vortex;arooftop-snipers,ARooftop Snipers;arun-3,ARun 3;arun3,ARun 3;asand-game,ASand Game;asandboxels,ASandboxels;ascrambled-eggs,AScrambled Eggs;ascrapmetal,AScrap Metal;asenya-and-oscar-2,ASenya And Oscar 2;asg,ASG;ashadow-world-adventure,AShadow World Adventure;ashards,AShards;ashift-flash-2,AShift Flash 2;ashift-flash,AShift Flash;ashort-life-2,AShort Life 2;ashort-ride,AShort Ride;ashuttledeck,AShuttle Deck;askyblock,ASkyblock;asleepingbeauty,ASleeping Beauty;aslice-of-sasha,ASlice Of Sasha;aslither-snake,ASlither Snake;aslither,ASlither;aslope-ball,ASlope Ball;aslope,ASlope;aslope2,ASlope 2;asm63,ASM63;asm64,ASM64;asmashkarts,ASmash Karts;asmokingbarrels,ASmoking Barrels;asnake,ASnake;asnowbattle,ASnow Battle;asoldier-legend,ASoldier Legend;asolitaire,ASolitaire;asonic-the-hedgehog,ASonic The Hedgehog;asort-the-court,ASort The Court;asoundboard,ASound Board;aspace-company,ASpace Company;aspacecompany,ASpace Company;aspacegarden,ASpace Garden;aspacehuggers,ASpace Huggers;aspelunky,ASpelunky;assf,ASSF;astack-bump-3d,AStack Bump 3D;astack,AStack;astation-141,AStation 141;astealingthediamond,AStealing The Diamond;astick-archers-battle,AStick Archers Battle;astickclimb,AStick Climb;astickman-boost,AStickman Boost;astickman-dismount,AStickman Dismount;astickman-epic-battle,AStickman Epic Battle;astickman-golf,AStickman Golf;astickman,AStickman;astickwar,AStick War;astormthehouse2,AStorm The House 2;asubway-surfers-bali,ASubway Surfers Bali;asubway-surfers,ASubway Surfers;asuper-mario-maker-online,ASuper Mario Maker Online;asuper-puffer-fish-3d,ASuper Puffer Fish 3D;asuperhero-io,ASuperhero IO;asuperhot,ASuperhot;asupermarioconstruct,ASuper Mario Construct;aswerve,ASwerve;asynesthesia,ASynesthesia;atactical-weapon-pack-2,ATactical Weapon Pack 2;atacticalassasin2,ATactical Assassin 2;atail-of-the-dragon,ATail Of The Dragon;atam-indian-truck-simulator-3d,ATAM Indian Truck Simulator 3D;atank-trouble-2,ATank Trouble 2;atanuki-sunset,ATanuki Sunset;atemple-run-2,ATemple Run 2;atetris,ATetris;athe-final-earth-2,AThe Final Earth 2;athe-final-earth,AThe Final Earth;athe-impossible-quiz-2,AThe Impossible Quiz 2;athe-impossible-quiz,AThe Impossible Quiz;athe-little-giant,AThe Little Giant;athebattle,ATheBattle;atheheist,ATheHeist;athemazeofspacegoblins,ATheMazeOfSpaceGoblins;athere-is-no-game,AThere Is No Game;athisistheonlylevel,AThisIsTheOnlyLevel;atime-shooter-3,ATime Shooter 3;atiny-fishing,ATiny Fishing;atiny-fragments,ATiny Fragments;atiny-islands,ATiny Islands;atopple-adventure,ATopple Adventure;atosstheturtle,AToss The Turtle;atough-growth,ATough Growth;atowermaster,ATower Master;atownscaper,ATownscaper;atrimps,ATrimps;atube-jumpers,ATube Jumpers;atunnel-rush,ATunnel Rush;atunnelz,ATunnelz;atv-static,ATV Static;atwitch-tetris,ATwitch Tetris;aunderrun,AUnderrun;aunfold-2,AUnfold 2;aup-left-out,AUp Left Out;aveloce,AVeloce;avex3,AVex 3;avex4,AVex 4;avex5,AVex 5;avex6,AVex 6;avex7,AVex 7;awaterworks,AWaterworks;awebretro,AWeb Retro;awinter-falling-price,AWinter Falling Price;awipo,AWipo;awolf3d,AWolf 3D;awordle,AWordle;aworlds-hardest-game-2,AWorlds Hardest Game 2;aworlds-hardest-game,AWorlds Hardest Game;ax-trial-racing,AX Trial Racing;axx142-b2exe,AXX142 B2EXE;ayoshifabrication,AYoshi Fabrication;ayou-are-bezos,AYou Are Bezos;azig-zag,AZig Zag;azombocalypse,AZombocalypse;azombs-royale,AZombs Royale";

    function decodeGameData(encodedData) {
        const pairs = encodedData.split(';');
        return pairs.map(pair => {
            const [encodedName, encodedDisplay] = pair.split(',');
            const name = encodedName.substring(1);
            const display = encodedDisplay.substring(1);
            return { name, display };
        });
    }

    const gameList = decodeGameData(gameData);


    const mainArea = document.querySelector('.xyz-container');
    const inputBox = document.getElementById('find-box');
    const pathPrefix = "";
    const imagePath = "/img/";


    function displayGames(games) {
      mainArea.innerHTML = '';
      games.forEach(game => {
        let tempElement = document.createElement('a');
        tempElement.setAttribute('href', pathPrefix + game.name);
        tempElement.classList.add('abc-item');
        const gameLink = tempElement;
        tempElement = null;

        let tempImg = document.createElement('img');
        tempImg.src = imagePath + game.name + ".png";
        tempImg.alt = game.display;
        tempImg.className = 'def-img';
        tempImg.onerror = () => { tempImg.src = '/resources/placeholder.png'; };
        const gameImage = tempImg;
        tempImg = null;


        let tempDiv = document.createElement('div');
        tempDiv.className = 'ghi-text';
        const gameText = tempDiv;
        tempDiv = null;

        let titleElement = document.createElement('h2');
        titleElement.textContent = game.display;
        gameText.appendChild(titleElement);

        let descriptionElement = document.createElement('p');
        descriptionElement.textContent = 'Explore this item!';
        gameText.appendChild(descriptionElement);

        gameLink.appendChild(gameImage);
        gameLink.appendChild(gameText);
        mainArea.appendChild(gameLink);
      });
    }

    function filterItems(searchTerm) {
      const filteredGames = gameList.filter(game =>
        game.display.toLowerCase().includes(searchTerm.toLowerCase())
      );
      displayGames(filteredGames);
    }

    inputBox.addEventListener('input', function() {
      filterItems(this.value);
    });

    function trackGame(gameDisplay, gameName) {
        let unusedVariable = 0;
        for (let i = 0; i < 5; i++) {
          unusedVariable += i;
        }

        let recentGames = JSON.parse(localStorage.getItem("recentGames")) || [];
        let gamePlays = JSON.parse(localStorage.getItem("mostPlayed")) || {};

        recentGames = recentGames.filter(g => g.name !== gameName);
        recentGames.unshift({ name: gameName, display: gameDisplay });
        if (recentGames.length > 5) recentGames.pop();
        localStorage.setItem("recentGames", JSON.stringify(recentGames));

        gamePlays[gameName] = (gamePlays[gameName] || 0) + 1;
        localStorage.setItem("mostPlayed", JSON.stringify(gamePlays));
    }

    function renderRecentAndMostPlayed() {
        const recentContainer = document.getElementById("recentArea");
        const mostPlayedContainer = document.getElementById("popularArea");

        const recentlyPlayedGames = JSON.parse(localStorage.getItem("recentGames")) || [];
        if (recentlyPlayedGames.length > 0) {
            let recentGamesHTML = `<h2 class="text-xl font-semibold mb-2">Recently Explored</h2><div class="flex flex-wrap gap-4">`;
            recentlyPlayedGames.forEach(game=> {
                recentGamesHTML += `<a href="${pathPrefix}${game.name}" class="underline text-blue-300" onclick="trackGame('${game.display}', '${game.name}')" style="border-radius:6px; padding:3px 6px; background-color:#e0e0e0; color:#336699;">${game.display}</a>`;
            });
            recentGamesHTML += `</div>`;
            recentContainer.innerHTML = recentGamesHTML;
        }

        const mostPlayedGames = JSON.parse(localStorage.getItem("mostPlayed")) || {};
        const sortedGames = Object.entries(mostPlayedGames).sort((a, b) => b[1] - a[1]).slice(0, 5);
        if (sortedGames.length > 0) {
            let mostPlayedHTML = `<h2 class="text-xl font-semibold mb-2 mt-4">Most Popular Items</h2><div class="flex flex-wrap gap-4">`;
            sortedGames.forEach(([name, count]) => {
                const game = gameList.find(g => g.name === name);
                if (!game) return;
                mostPlayedHTML += `<a href="${pathPrefix}${game.name}" class="underline text-green-300" onclick="trackGame('${game.display}', '${game.name}')" style="border-radius:6px; padding:3px 6px; background-color:#f0f0f0; color:#008000;">${game.display} (${count})</a>`;
            });
            mostPlayedHTML += `</div>`;
            mostPlayedContainer.innerHTML = mostPlayedHTML;
        }
    }

    displayGames(gameList);
    renderRecentAndMostPlayed();
  </script>
</body>
</html>
